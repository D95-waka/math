\newcounter{english}
\input{../article_base.tex}
\title{Solution to Exercise 2 --- Model Theory (1), 80616}

\begin{document}
\maketitle
\maketitleprint[yellow]

\question{}
\subquestion{}
Let $\FF$ be a field and let $T_{\operatorname{vec}}$ be the theory of infinite vector space over the field $\FF$ with the language $L = \{0, +\} \cup \{ \lambda_a \mid a \in \FF \}$,
such that $\lambda_a$ represents multiplication by scalar $a \in \FF$.
We will show that $T_{\operatorname{vec}}$ satisfies quantifier elimination.
\begin{proof}
	Let $\Vv, \Ww$ are vector spaces over $\FF$ such that there exists $A \subseteq V \cap W$ and $\langle A \rangle = V \cap W$, and let $\Aa$ be the model over $\langle A \rangle$.

	Let $t(x)$ be a term over $L(A)$ (as every $a \in \langle A \rangle$ is definable in $L(A)$).
	Any definable $v(x) : \Aa \to \Aa$ is of the form $v = u + a x$, then $t(x) = u + \lambda_a x$ for some $u \in A$ and $a \in \FF$.

	Any atomic formula with single free variable is of the form $t(x) = s(x)$ or $t(x) \ne s(x)$, or equivalently $t(x) = 0$ or $t(x) \ne 0$ for some term.
	In turn, any $\exists$-primitive formula is of one of the forms,
	\[
		\varphi(x)
		= \exists x\ t(x) = 0,
		\quad
		\varphi(x)
		= \exists x\ \bigwedge_{i < n} t_i(x) \ne 0
	\]

	We know that $u \in V, W$ for each $u \in \langle A \rangle$, as a linear combination it follows that $\Vv \models u + a v = 0$ for $v \in V$ if and only if $\Vv \models v = \frac{u}{-a}$.
	But $\lambda_{-1 / a} \in \FF$ as it is a field, and it follows that $v$ is definable in $L(A)$ if $\Vv \models u + a v = 0$, we deduce that $v \in \Ww$ as well.
	Then if $\varphi$ is of the first form, then $\Vv \models \varphi \iff \Ww \models \varphi$, and it remains to check the second form.

	If $\varphi$ is of the second form, then for any $i < n$, $t_i(x) \ne 0$ is equivalent to $x \ne \frac{u_i}{- a_i} = c_i$ for $u_i \in A, a_i \in \FF$,
	and by the assumption that $T$ is of infinite we infer that $T \models \exists x\ (\bigwedge_{i < n} x \ne c_i)$, meaning that if $\Vv, \Ww \models \varphi$.

	By quantifier elimination equivalently theorem, $T$ is eliminating quantifiers.

	If $\Vv$ was not infinite (and we would change $T$ as well) then the last step won't hold.
	In turn, we would have to divide into cases by the character of $\FF$, if it would be $0$ then the proof will hold.
	If on the other hand $\operatorname{char} \FF < \infty$, then the claim would not be true anymore.
\end{proof}

\subquestion{}
Let $L = \{ \le \} \cup \{ c_n \mid n < \omega \}$ be a language,
and let $T = \operatorname{DLO} \cup \{ c_n < c_{n + 1} \mid n < \omega \}$. \\
We will show that $T$ has quantifier elimination, and find all non-isolated types in $S_1(T)$.
\begin{proof}
	The proof is identical to the case of DLO, using back and forth method on two models $\Mm, \Nn \models T$.
	The key difference is that if $A \subseteq M \cap N$ with $|A| < \omega$ then the back and forth isomorphism construction has to start with,
	\[
		(\{ c_i^\Mm \mid i < \omega \} \cup \{ c_i^\Nn \mid i < \omega \}) \cap A
	\]
	This way we get an isomorphism $\varphi : \Mm \to \Nn$ over $L(A)$, and in particular $\Mm_A \models \psi \iff \Nn_A \models \psi$ as $\psi$ is existential primitive and being preserved by $\varphi$.
\end{proof}
We will find all non-isolated types in $S_1(T)$.
\begin{solution}
	Let $p \in S_1(T)$ be some type, and let $c$ be new constant such that $\varphi(c)$ is true.
	Then $\varphi(x) = c = c_i$ for some $i < \omega$ is a type, but it is (by definition) isolated, and thus we can assume $p$ does not consist of such formulas.
	$T$ has only $c_i$ as constant symbols, then any type such that $c_i \le x \le c_{i + 1} \in p$ is isolated, but if all of the formulas are of the form $c_i \le x$ we get partial type.
	We can deduce that there are no non-isolated types in $S_1(T)$.
\end{solution}

\question{}
Let $T_{EQ}$ be the theory of equivalence relation over $L = \{ E \}$.
We will show that $T_{EQ}^*$, the model companion of $T_{EQ}$, is the theory of equivalence relation with infinitely many infinite equivalence classes.
Moreover, we will show that $T_{EQ}^*$ has quantifier elimination.
\begin{proof}
	Notice that,
	\[
		T_{EQ} = \{ \forall x\ E(x, x), \forall x \forall y\ (E(x, y) \leftrightarrow E(y, x)), \forall x \forall y \forall z\ (E(x, y) \land E(y, z)) \to E(x, z) \}
	\]
	meaning that $T_{EQ}$ consists of global sentences only, as a corollary from class $T_{EQ}^*$ exists uniquely.

	By proposition from class we know that $T_{EQ}^*$ is closed existentially closed over $T_{\forall} = T$.
	Let us observe,
	\[
		\varphi_n = \exists x_0 \cdots \exists x_{n - 1}\ (\bigwedge_{i < j < n} x_i \ne x_j \land E(x_i, x_j))
	\]
	then $\varphi_n \in T_{EQ}^*$ for any $n < \omega$, meaning that any equivalence class is infinite.
	We also define,
	\[
		\psi_n = \exists x_0 \cdots \exists x_{n - 1}\ (\bigwedge_{i < j < n} \lnot E(x_i, x_j))
	\]
	then $T_{EQ}^* \models \psi_n$ as well for any $n < \omega$, meaning that there are infinite equivalence classes.

	We move to show that $T_{EQ}^*$ eliminating quantifiers.
	The proof is by using the equivalence theorem and by defining $A \subseteq M, N$ as in other proofs.
	In this case the primitive existential formula over $L(A)$ will be of the form $\exists x\ E(x, a_0) \land \cdots \land E(x, a_{n - 1}) \land \lnot E(x, a_{n}) \land \cdots \land \lnot E(x, a_{n + m - 1})$,
	and formulas over equation symbols. In turn we can use the properties of $T_{EQ}^*$ to show $\Mm \models \varphi \iff \Nn \models \varphi$ in the exact way of question 1.
\end{proof}

\question{}
We will show that there is a complete theory $T$ over a countable language, and a collection of $2^{\aleph_0}$ non-isolated types in $S_1(T)$ such that every model $\Mm \models T$ satisfies at least one of these types.
\begin{proof}
	Let $L = \{ P_i \mid i < \omega \}$ be a language consists of countable many unary relation symbols.
	Let,
	\[
		T = \left\{ \varphi_{A, B} = \exists x\ \left(\bigwedge_{i \in A} P_i(x)\right) \land \left(\bigwedge_{j \in B} \lnot P_j(x)\right) \mid A, B \subseteq \omega, |A|, |B| < \omega, A \cap B = \emptyset \right\}
	\]
	be the theory such that for any finite selection of predicates, there is an element that is true for them for any choice.

	We will show that $T$ is complete.
	In intention of showing quantifier elimination, let $\Mm, \Nn \models T$ be some models and let $A \subseteq M, N$ be some finite set such that $\Aa \subseteq \Mm, \Nn$.
	Let $\varphi(x)$ be some primitive existential formula over $L(A)$, then,
	\[
		\varphi = \exists x\ (\bigwedge_{i < n_0} P_i(x)) \land (\bigwedge_{j < n_1} \lnot P_j(x)) \land (\bigwedge_{k < n_2} x = a_k) \land (\bigwedge_{l < n_3} x \ne a_l)
	\]
	which means that $\varphi \equiv \varphi_{C, B}$ or $\varphi \equiv \exists x\ x = a$ or $\varphi \equiv \exists x, x \ne a_0 \land \cdots \land x \ne a_{n - 1}$.
	$\Mm, \Nn \models \varphi_{C, B}, \exists x\ x = a$ for any $C, B, a$ from $T$ and $\Aa$ definition.
	The last case is achieved by choosing a witness in each model of $\varphi_{C, B}$, such that $C \supsetneq \bigcup C_i, B \supsetneq \bigcup B_i$,
	when $a_i$ are witnesses of $\varphi_{C_i, B_i}$ for $i < n$.
	By equivalently to quantifier elimination $T$ is such theory, and has no constant symbols, then it is complete.

	Let $f : \omega \to 2$ be a function, and let us consider the type,
	\[
		p_f(x)
		= \{ \varphi_{A, B} \mid A = f^{-1}(1) \cap [n], B = f^{-1}(0) \cap [n], n < \omega \}
	\]
	type such that $T_{\{ c \}} \models \varphi(c)$ is true if and only if $P_n(c) \iff f(n) = 1$.
	$T$ is complete and $c$ has a sentence defining its value for any $P_n$, therefore $p_f \in S_1(T)$.

	We will now show that $p$ is not isolated.
	Let $M = N = \{ f \in {\{0, 1\}}^{[m]} \mid m < \omega \}$ and,
	\[
		P_i^\Mm(f)
		\iff i \in \dom f \land f(i) = 1,
		\quad
		P_i^\Nn(f)
		\iff i \in \dom f \lor f(i) = 1
	\]
	We now define the types $p_{c_0}$ and $p_{c_1}$, then $f = \{ \langle 0, 0 \rangle \}$ is $\in M, N$, and,
	\[
		\Mm \models p_{f \cup \{ \langle n, 0 \rangle \mid 0 < n < \omega \}}(f),
		\Mm \not\models p_{f \cup \{ \langle n, 1 \rangle \mid 0 < n < \omega \}}(f),
		\Nn \not\models p_{f \cup \{ \langle n, 0 \rangle \mid 0 < n < \omega \}}(f),
		\Nn \models p_{f \cup \{ \langle n, 1 \rangle \mid 0 < n < \omega \}}(f)
	\]
	Then $p_f$ cannot be isolated, as otherwise there would be undecidable sentence in $T$.
	The above claim can be extended to any arbitrary function using appropriate construction of models, we infer that $p_f$ is non-isolated for all $f \in {\{0, 1\}}^{\omega}$.

	Let $\Mm \models T$ be some model.
	$\Mm \models \exists x\ \varphi_{\{0\}, \emptyset}$, and let $d \in M$ be a witness.
	Let $f : \omega \to \{0, 1\}$ be a function such that $f(n) = 1 \iff P_n^\Mm(d)$ ($f(0) = 1$ by definition).
	$\Mm \models p_f(d)$ directly from the definition of $p_f$.
\end{proof}

\question{}
Let $L$ and $T$ be as in the last question.
We will show that $T$ is complete and that there is no isolated type in $S_1(T)$.
\begin{proof}
	Was proved in the last question.
\end{proof}

\question{}
We will show that there is a complete theory $T$ over the language $L$ such that $|L| = \aleph_1$ and a non-isolated type $p(c)$ that cannot be omitted.
\begin{proof}
	Let $c_i$ be constants for $i < \omega$ and $d_i$ constants for $i < \omega_1$, and let $P(x)$ be relation, we define $P(c_i)$ for all $i$, as well $\lnot P(d_i)$ for all $i$.
	Let us denote $P(x)$ if $x \in X$, otherwise $x \in Y$, these are for readability only.
	Let $E$ be 2-place relation.
	We define $T$ as the theory such that $\Mm \models T$ if and only if $E : X \to Y$ is a bijection, namely, if $x \in X$ and $y \in M$ such that $E(x, y)$ then $y \in Y$,
	for any $x \in X$ there is a single $y \in Y$ such that $P(x, y)$, and vice versa for $y \in Y$.
	We also define $c_i \in X, d_i \in Y$, and $c_i \ne c_j, d_i \ne d_j$ for any $i < j$.
	To complete $T$ we also define $T \models E(c_i, d_i)$ for all $i < \omega$. \\
	We can now define $p(x) = \{ P(x) \} \land \{ x \ne c_i \mid i < \omega \}$.
	$p$ is complete (as in not partial) as we could define $c_{\omega}$ as the constant such that $p(c_{\omega})$, and $c_i < \omega + 1$ is still countable and equivalent to $T$.
	The key difference is that there is a constant such that $\lnot E(c_{\omega}, d_i)$ for all $i < \omega_1$, we use the fact that there is a single such constant to show that $T \cup \{ p(c_{\omega}) \}$ is complete. \\
	Lastly, if $\Mm \models T$ then $|\{ x \in M \mid P^\Mm(x) \}| \ge \omega_1$, meaning that there has to be (very large amount) of elements $x \in X^M$ that realizes $p$.
\end{proof}

\end{document}
